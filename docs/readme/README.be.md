# Recycler

**Мовы:** [English](../README.md) · [Українська](README.uk.md) · [Русский](README.ru.md) · [Беларуская](README.be.md) · [Polski](README.pl.md) · [Eesti](README.et.md) · [Deutsch](README.de.md)

Перапрацоўшчык (Recycler) — лёгкі плагін Paper 1.21.9, які дазваляе гульцам ператвараць сыравіну ў выпадковыя ўзнагароды з асобнымі кулдаунымі для кожнага матэрыялу.

## Магчымасці

- `/recycle` адкрывае аднарядны GUI **Перапрацоўшчыка** з адзіным даступным слотам 1 для ўваходу.
- Любы стак можна абмяняць на выпадковую блокавую ўзнагароду; яе колькасць не перавышае максімальны памер стака атрыманага блока.
- Калі пакласці **поўны стак** (дакладны максімум і мінімум 16 прадметаў), розыгрыш заменіць блок на выпадковы прадмет.
- Прадметныя ўзнагароды маюць 70% шанец атрымаць зачараванні паводле вагавой табліцы (1–5 зачараванняў з ухілам у 2–3) і 5% шанец падвоіцца, калі прадмет можна стакіць.
- Высокатыровыя матэрыялы (незерыт, дыяменты, золата, жалеза, камень, кальчужная браня) выкарыстоўваюць множнікі, што робяць магутныя рэчы радзейшымі і складанейшымі для ролу з ≥3 зачараваннямі (незерыт ≈ у 10 разоў радзейшы).
- Кожны матэрыял (уваход і ўзнагарода) мае ўласны 5-хвілінны кулдаун, таму нельга адразу паўтараць тое ж спалучэнне.
- GUI застаецца адкрытым пасля кожнага ролу, каб можна было працягваць перапрацоўку без перазапуску.
- Прадметы, пакінутыя ўнутры, заўсёды вяртаюцца гульцу пры закрыцці.

## Лакалізацыя

- Убудаваныя лакалі: `en_us`, `uk_ua`, `ru_ru`, `be_by`, `pl_pl`, `et_ee`, `de_de`.
- Паведамленні захоўваюцца ў `src/main/resources/lang/*.yml`; дадай новую мову, скапіраваўшы ключы і пераклаўшы значэнні.
- Гульцы бачаць паведамленні на мове кліента, калі такая лакаль існуе.

## Зборка

Запусці Maven у каранёвай дырэкторыі:

```powershell
mvn package
```

Гатовы jar будзе ў `target/recycler-1.0.0.jar`.

## Тэставанне

- Каб выканаць аўтатэсты (JUnit 5 + Maven Surefire), выкарыстоўвай:

```powershell
mvn test
```

- Тэсты знаходзяцца ў `src/test/java`. Вынісь логіку з Bukkit у асобныя Java-сэрвісы, каб іх можна было правяраць без сервера.
- Пасля кожных змен паўтарай `mvn test`, каб пераканацца, што праект застаецца «зялёным» перад зборкай.

## Выкарыстанне

1. Скапіруй сабраны JAR у `plugins/` на серверы.
2. Запусці Paper 1.21.9 на Java 17 (ці сумяшчальнай версіі, якой патрабуе сервер).
3. Увядзі `/recycle`, пакладзі патрэбны стак у слот 1 і атрымаеш узнагароду.
4. Калі кулдаун яшчэ ідзе, з'явіцца паведамленне; забытыя ў GUI прадметы вяртаюцца ў інвентар пры закрыцці.
