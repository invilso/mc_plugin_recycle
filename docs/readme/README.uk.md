# Recycler

**Мови:** [English](../README.md) · [Українська](README.uk.md) · [Русский](README.ru.md) · [Беларуская](README.be.md) · [Polski](README.pl.md) · [Eesti](README.et.md) · [Deutsch](README.de.md)

Перероблювач (Recycler) — легкий плагін Paper 1.21.9, що дозволяє гравцям переробляти сировину на випадкові винагороди з окремими кулдаунами для кожного матеріалу.

## Можливості

- `/recycle` відкриває однорядний GUI **Item Recycler** з єдиним доступним слотом 1.
- Будь-який стак можна обміняти на випадкову блокову нагороду; кількість нагороди не перевищує максимальний розмір стака отриманого блока.
- Якщо покласти **повний стак** (точний максимум і щонайменше 16 предметів), розіграш замінюється на випадковий предмет замість блока.
- Предметні нагороди мають 70% шанс отримати зачарування з ваговою таблицею (типово 1–5 чарів з упором на 2–3) і 5% шанс подвоїтись, якщо предмет стакований.
- Високі тири (незерит, діамант, золото, залізо, камінь, кільчата броня) використовують коефіцієнти, які роблять потужні речі рідкіснішими й складнішими для ролу з ≥3 зачаруваннями (незерит ≈ у 10 разів рідше).
- Кожен матеріал (як вхідний, так і нагорода) має власний 5-хвилинний кулдаун, тому повторювати комбо відразу не вийде.
- Інтерфейс залишається відкритим після кожного ролу, тож можна безперервно підживлювати його предметами.
- Предмети, залишені всередині, автоматично повертаються гравцеві після закриття, щоб нічого не загубити.

## Локалізація

- Вбудовані локалі: `en_us`, `uk_ua`, `ru_ru`, `be_by`, `pl_pl`, `et_ee`, `de_de`.
- Повідомлення зберігаються в `src/main/resources/lang/*.yml`; щоб додати нову мову, скопіюй існуючі ключі.
- Гравці бачать повідомлення мовою свого клієнта, якщо локаль доступна.

## Compatibility

- Протестовано з Paper API `1.21.9` (див. `<paper.version>` у `pom.xml`). Інші збірки 1.21.x та форки на базі Paper (наприклад, Purpur 1.21.9) швидше за все працюватимуть, але використовуйте їх на свій страх і ризик.
- Потребує Java 21 для збірки та запуску.

## Збирання

Запусти Maven у корені репозиторію:

```powershell
mvn package
```

Готовий jar лежить у `target/recycler-1.0.0.jar`.

## Тестування

- Щоб виконати автоматичні тести (JUnit 5 + Maven Surefire), використай:

```powershell
mvn test
```

- Тести знаходяться в `src/test/java`. Логіку з Bukkit краще виносити в прості Java-сервіси, щоб їх було легше перевіряти без сервера.
- Після змін у коді чи тестах повторно запускай `mvn test`, аби переконатися, що все «зелено» перед пакуванням.

## Використання

1. Перенеси зібраний JAR у папку `plugins/` свого сервера.
2. Запусти Paper 1.21.9 на Java 17 (або сумісній версії, що вимагає сервер).
3. Використай `/recycle`, поклади потрібний стак у слот 1 і отримай нагороду.
4. Якщо кулдаун ще активний, з'явиться повідомлення; предмети, забуті в GUI, повернуться у твій інвентар.
